<div class="pt-3">
  <div class="d-flex justify-content-center">
    <div class="d-flex flex-column name-list" style="width: 300px; height: 100vh">
      <div class="px-3 py-2 list-card">
        <div class="d-flex justify-content-between flex-row">
          <div class="p-2">
            <h2><%= @item.name.capitalize %></h2>
          </div>
          <div class="p-2">
            <% if policy(@item).edit? %>
                <%= link_to edit_item_path(@item), class: "lists-add-btn", style: "text-decoration: none" do %>
                  <%= image_tag "edit_icon.svg" %>
                <% end %>
            <% end %>
            <% if policy(@item).destroy? %>
              <%= link_to item_path(@item), method: :delete,
                data: {confirm: "Are you sure?"} do %>
                  <%= image_tag "delete_icon.svg" %>
                <% end %>
            <% end %>
              </div>
            </div>
            <div>
              <div style = "width: 100%; height: 50px; overflow:scroll;" class="mb-2">
                <%= 'Description: ' %><br>
                <% if @item.description.empty? %>
                  <%= 'No description available' %>
                <% else %>
                  <%= @item.description %>
                <% end %>
              </div>
              <div class="mb-2">
                <%= render "checkbox", item: @item %><%= "Mark as completed" %><br>
              </div>
            </div>
            <div class="mb-4" style="width: 100%; height: 300px"
              data-controller="mapbox"
              data-mapbox-markers-value="<%= @markers.to_json %>"
              data-mapbox-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
            </div>
          </div>
          <div class="mt-2">
            <%= link_to "Back to all items", items_path, style: "text-decoration: none; color: #6D3D14" %>
          </div>
         </div>
        </div>
      </div>
    </div>
  </div>
</div>
